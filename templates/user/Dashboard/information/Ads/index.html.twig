{% extends "user/Dashboard/information/base.html.twig" %}
{% block functionality %}
<div class="container-fluid">
    <div class="container">
        <div class="row">
            <div class="col-12">
                <div class="row">
                    <div class="col-lg-8">
                        <div class="row">
                            <div class="col-12">
                                <h4>Mes annonces :</h4>
                            </div>
                        </div>
                        <div class="row">
                            {% if ads|length == 0 %}
                                <div class="col-12 mt-5">
                                    <h2>Vous n'avez aucune annonce ðŸ˜­</h2>
                                </div>
                            {% else %}
                              {% for item in ads %}
                            <div class="col-6">
                                <div class="card shadow-sm" style="width: 20rem;">
                                    <div id="carouselExampleIndicators" class="carousel slide" data-bs-ride="carousel">
                                        <div class="carousel-inner">
                                            {% for picture in item.adsPictures %}
                                            {% if loop.first %}
                                            <div class="carousel-item active">
                                                <img src="{{ asset('assets/images/upload/') }}{{ picture.data }}" class="d-block w-100" alt="{{ item.title }}">
                                            </div>
                                            {% else %}
                                            <div class="carousel-item">
                                                <img src="{{ asset('assets/images/upload/') }}{{ picture.data }}" class="d-block w-100" alt="{{ item.title }}">
                                            </div>
                                            {% endif %}
                                            {% endfor %}
                                        </div>
                                        <button class="carousel-control-prev bg-transparent" type="button" data-bs-target="#carouselExampleIndicators"  data-bs-slide="prev">
                                            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                                            <span class="visually-hidden">Previous</span>
                                        </button>
                                        <button class="carousel-control-next bg-transparent" type="button" data-bs-target="#carouselExampleIndicators"  data-bs-slide="next">
                                            <span class="carousel-control-next-icon" aria-hidden="true"></span>
                                            <span class="visually-hidden">Next</span>
                                        </button>
                                    </div>
                                    <div class="card-body">
                                        <h5 class="card-title">{{ item.title|slice(0, 25) }} ...</h5>
                                        <p class="card-text">Type d'annonce : {{ item.adsCategory.label }}</p>
                                        <p class="card-text">Prix : {{ item.price|number_format(2, '.', ' ') }} â‚¬</p>
                                        <p class="card-text">{{ item.content|slice(0, 125) }} [...]</p>
                                        <a href="{{ path('ads.edit', {'id' : item.id}) }}" class="btn btn-outline-primary">Re Ã©diter cette annonce</a>
                                    </div>
                                </div>
                            </div>
                            {% endfor %}
                            {% endif %}
                        </div>
                    </div>
                    <div class="col-lg-4 shadow rounded">
                        <h4 class="mt-3">Ajouter une annonces</h4>
                        {{ form_start(form) }}
                        {{ form_widget(form) }}
                        <input type="submit" class="btn btn-outline-primary mt-3 mb-3" value="CrÃ©er">
                        {{ form_end(form) }}
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}